
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Archimedes Pelican</title>
    <meta name="author" content="charlesreid1">


    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">


      <link href="/archimedes-pelican/favicon.png" rel="icon">



    <!--
    my CSS styles
    -->
    <link href="/archimedes-pelican/theme/css/bootstrap.css"       rel="stylesheet" type="text/css">
    <link href="/archimedes-pelican/theme/css/sandstone.css"       rel="stylesheet" type="text/css"/>
    <link href="/archimedes-pelican/theme/css/navbar.css"          rel="stylesheet" type="text/css"/>
    <link href="/archimedes-pelican/theme/css/main.css"            rel="stylesheet" type="text/css"/>
    <link href="/archimedes-pelican/theme/css/font-awesome.css"    rel="stylesheet" type="text/css"/>

    <!--
    <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
          rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
          rel="stylesheet" type="text/css"/>
    -->


    <link href="/archimedes-pelican/theme/css/pygment.css" rel="stylesheet" type="text/css"/>

    <script src="/archimedes-pelican/theme/js/jquery.min.js"></script>
    <script src="/archimedes-pelican/theme/js/bootstrap.min.js"></script>



    <!-- leaflet -->
    <link  href="/archimedes-pelican/theme/css/leaflet.css" rel="stylesheet" stype="text/css" />
    <script src="/archimedes-pelican/theme/js/leaflet.js" type="text/javascript"></script>

    <!-- D3 -->
    <script src="/archimedes-pelican/theme/js/d3.js" type="text/javascript"></script>

    <!-- angular -->
    <script src="/archimedes-pelican/theme/js/angular.js"></script>

    <!-- fullPage -->
    <!--
    <link  href="/archimedes-pelican/theme/css/jquery.fullPage.css" rel="stylesheet" stype="text/css" />
    <script src="/archimedes-pelican/theme/js/jquery.fullPage.js" type="text/javascript"></script>
    -->

    <!-- my style sheet -->
    <!--
    <link rel="stylesheet" type="text/css" href="/archimedes-pelican/mapstyles.css">
    -->

    <!-- common vars -->
    <!--
    <script src="/archimedes-pelican/common.js"></script>
    -->


</head>

<body>

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <!--
            http://www.w3schools.com/bootstrap/bootstrap_case_navigation.asp
            -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span> 
            </button>
            <a class="navbar-brand" href="/archimedes-pelican/index.html" style="margin-right:20px;">Archimedes Pelican</a>
        </div>
        <div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">

                    <li class="spacer">
                        <p>&nbsp;</p>
                    </li>


                    <li>
                        <a href="/archimedes-pelican/about.html">About</a>
                    </li>


                    <li class="spacer">
                        <p>&nbsp;</p>
                    </li>


                    <li>
                        <a href="/archimedes-pelican/index.html">All Angular Examples</a>
                    </li>


                    <li class="spacer">
                        <p>&nbsp;</p>
                    </li>


                    <!--
                    <li>
                        <a href="/archimedes-pelican/blog.html">Blog</a>
                    </li>


                    <li class="spacer">
                        <p>&nbsp;</p>
                    </li>
                    -->


                    <li>
                        <a href="/archimedes-pelican/author.html">Author</a>
                    </li>

                </ul>
            </div>
        </div>
    </div>
</nav>


<!-- Main jumbotron -->
<div class="jumbotron">
    <div class="container">
        <h1><i class="fa fa-paper-plane-o"></i>&nbsp;Archimedes Pelican</h1>
        <p>Angular.js and Pelican</p>
        <p><a class="btn btn-primary btn-lg btn-large" 
            href="/archimedes-pelican/about.html" role="button">Learn More About It &nbsp;&nbsp;&nbsp; <i class="fa fa-arrow-circle-right"></i></a></p>
    </div>
</div>


<div class="container" id="bodycontainer">


Here you go - an interactive D3 pie chart!

This example links data from the HTML sliders with data in the chart.
Angular takes care of the nuances of getting and setting 
watchers, so you get instant-updating baked in!
<hr />

<div ng-app="myApp">

    <div ng-controller="Ctrl1" ng-init="myData=[10,20,30]">

        <p>A dynamic donut chart:</p>

        <input type="range" style="width: 300px;" ng-model="myData[0]">
        <input type="range" style="width: 300px;" ng-model="myData[1]"> 
        <input type="range" style="width: 300px;" ng-model="myData[2]"> 

        <donut-chart data="myData"></donut-chart>

    </div>
</div>

<script type="text/javascript">

(function() {

    function Ctrl1($scope) {
    };

    var mod = angular.module('myApp',[],function($interpolateProvider) {
            $interpolateProvider.startSymbol('[[');
            $interpolateProvider.endSymbol(']]');
        }
    );

    var dir = mod.directive('donutChart', function() {

        function link(scope, element, attr) {

            // this is where your D3 code goes

            var data = scope.data;
            var color = d3.scale.category10();

            // canvas size
            var width = 300;
            var height = 300;

            // make the SVG drawing
            var svg = d3.select(element[0]).append('svg');
            var pie = d3.layout.pie().sort(null);

            // arc generation
            var min = Math.min(width, height);
            var arc = d3.svg.arc()
                  .outerRadius(min / 2 * 0.9)
                  .innerRadius(min / 2 * 0.5);

            svg.attr({width: width, height: height});

            var g = svg.append('g')
                // center the donut chart
                .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');

            var arcs = g.selectAll('path').data(pie(data))
                .enter().append('path')
                .style('stroke','white')
                .attr('fill',function(d,i){ return color(i+3) });

            // this is added so the pie chart will listen for changes in the data
            scope.$watch('data',function(){
                arcs.data(pie(data)).attr('d',arc);
            }, true);
        }

        return {
            link: link,
            restrict: 'E',
            scope: { 
                data: '=' 
            }
        }
    });

    var c = mod.controller("Ctrl1", ["$scope", Ctrl1]);

})();

</script>



</div><!--container-->

<div class="container text-center">
    <p>&nbsp;</p>
    <p>
    Made with <i class="fa fa-fire-extinguisher fa-2x"></i> by <a href="http://charlesreid1.com">charlesreid1</a>.
    </p>
    <p>&nbsp;</p>
</div>


</body>
</html>


